<!-- chat/templates/chat/index.html -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Chat Rooms</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
</head>

<body>

    <div class="container position-absolute top-50 start-50 translate-middle ">
        <div class="d-flex justify-content-center  flex-column align-items-center ">
            <form action="" method="post" style="width:50%;">
                {% csrf_token %}
                <label for="form-input"
                    class="form-label align-items-start text-primary fs-3 fw-bold text-capitalize">Enter
                    Room id </label>
                <div class="d-flex gap-3">
                <input type="text" id="room" name="room" class="form-control w-100 mt-2 mb-2"
                    placeholder="Room Id" required>
                </div>
                <input type="submit" id="submit" class="btn btn-success fw-bold mb-3 mt-3 align-items-center"
                    value="Create/Join" style="width: max-content;">
            </form>
        </div>
    </div>


    <script> 
        document.querySelector('#room').focus();
        document.querySelector('#room').onkeyup = function (e) {
            if (e.key === 'Enter') {  // enter, return
                document.querySelector('#submit').click();
            }
        };

        document.querySelector('#submit').onclick = function (e) {
            var roomName = document.querySelector('#room').value;
            var username = document.querySelector('#user').value;
            window.location.pathname = '/chat/' + roomName + '/'+username+'/';
        };
    </script>
</body>

</html>